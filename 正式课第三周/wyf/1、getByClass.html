<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        #box div{
            height: 30px;
        }
    </style>
</head>
<body>
<div id="box">
    <div class="box1 box2 box3 box4">1</div>
    <div class="box1 box2 box3">2</div>
    <div class="box1 box2">3</div>
    <div class="box1">4</div>
</div>
<script>
    var oBox=document.getElementById('box');
   // var aDiv=oBox.getElementsByClassName("box2 box3");
    function getByClass(str,parent){
        parent=parent||window;
        var ary=[];
        if("getComputedStyle" in window){
            ary=Array.prototype.slice.call(parent.getElementsByClassName(str));
        }else{
            var aryClass=str.replace(/(^ +)|( $)/g,'').split(/\s+/g);
            var nodeList=parent.getElementsByTagName("*");
            for(var i=0;i<nodeList.length;i++){
                var cur=nodeList[i];
                var bOk=true;
                for(var j=0;i<aryClass.length;i++){
                    var reg=new RegExp("\\b"+aryClass[j]+"\\b");
                    if(!reg.test(cur.className)){
                        bOk=false;
                    }
                }
            }
            if(bOk){
                ary.push(cur);
            }
        }
        return ary;
    }
var aDiv=getByClass("box2 box3",oBox);
    for(var i=0;i<aDiv.length;i++){
        aDiv[i].style.background='red';
    }
</script>

</body>
</html>